// init the 360 ui
import { createNode } from './util' 

import './style/index.css';

const html = `
<div class="vcp-layer viewcore-360-layer">
  <div class="webxr-button">
    <svg class="svg-icon" fill="#fff" viewBox="0 -86 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M412 339h-64c-26.176 0-49.86-15.5-60.332-39.488l-6.992-16.016C276.566 274.082 267.273 268 257 268s-19.563 6.082-23.676 15.496l-6.992 16.016C215.859 323.5 192.176 339 166 339h-66C44.86 339 0 294.14 0 239V100C0 44.86 44.86 0 100 0h312c55.14 0 100 44.86 100 100v38c0 11.047-8.953 20-20 20s-20-8.953-20-20v-38c0-33.086-26.914-60-60-60H100c-33.086 0-60 26.914-60 60v139c0 33.086 26.914 60 60 60h66a25.836 25.836 0 0 0 23.676-15.496l6.992-16.016C207.141 243.5 230.824 228 257 228s49.86 15.5 60.332 39.488l6.992 16.016A25.828 25.828 0 0 0 348 299h64c33.086 0 60-26.914 60-60 0-11.047 8.953-20 20-20s20 8.953 20 20c0 55.14-44.86 100-100 100zm15-185c0-33.086-26.914-60-60-60s-60 26.914-60 60 26.914 60 60 60 60-26.914 60-60zm-40 0c0 11.027-8.973 20-20 20s-20-8.973-20-20 8.973-20 20-20 20 8.973 20 20zm-182 0c0-33.086-26.914-60-60-60s-60 26.914-60 60 26.914 60 60 60 60-26.914 60-60zm-40 0c0 11.027-8.973 20-20 20s-20-8.973-20-20 8.973-20 20-20 20 8.973 20 20zm0 0"/></svg>
    Enter VR
  </div>
  <div class="guide-360">
    <svg class="svg-icon" height="512pt" viewBox="0 -66 512.001 512" width="512pt" xmlns="http://www.w3.org/2000/svg"><path d="M322.285 335.645c-7.441 0-13.898-5.532-14.863-13.106-1.043-8.219 4.77-15.727 12.984-16.773 47.399-6.04 89.844-18.883 119.516-36.172C467.059 253.785 482 235.199 482 217.262c0-19.77-17.484-35.946-32.156-46.04-6.824-4.695-8.551-14.03-3.856-20.859 4.696-6.824 14.035-8.55 20.86-3.855C496.387 166.828 512 191.293 512 217.266c0 29.476-19.7 56.535-56.973 78.25-33.55 19.546-78.789 33.382-130.828 40.011-.644.078-1.285.118-1.914.118zm0 0M252.344 314.156l-40-40c-5.86-5.86-15.356-5.86-21.215 0-5.856 5.856-5.856 15.356 0 21.211l11.687 11.688c-44.812-4.63-85.523-15.063-117.046-30.223C50.328 259.789 30 238.074 30 217.262c0-17.653 14.555-36 40.98-51.664 7.13-4.223 9.48-13.426 5.258-20.551-4.226-7.129-13.43-9.48-20.554-5.258C9.66 167.07 0 196.977 0 217.262c0 33.281 25.844 64.039 72.77 86.61 36.421 17.51 83.535 29.241 134.863 33.78l-16.504 16.504c-5.856 5.856-5.856 15.356 0 21.215a14.97 14.97 0 0 0 10.61 4.39c3.835 0 7.675-1.464 10.605-4.39l40-40c5.855-5.86 5.855-15.36 0-21.215zm0 0"/><path d="M157.098 187.223v-3.61c0-12.73-7.793-15.199-18.243-15.199-6.46 0-8.55-5.7-8.55-11.398 0-5.703 2.09-11.403 8.55-11.403 7.22 0 14.82-.949 14.82-16.34 0-11.02-6.269-13.68-14.062-13.68-9.308 0-14.058 2.282-14.058 9.692 0 6.457-2.852 10.828-13.871 10.828-13.68 0-15.387-2.851-15.387-11.972 0-14.817 10.637-34.008 43.316-34.008 24.133 0 42.371 8.738 42.371 34.39 0 13.868-5.129 26.79-14.629 31.16 11.211 4.18 19.38 12.54 19.38 27.93v3.61c0 31.16-21.47 42.941-48.07 42.941-32.68 0-45.22-19.95-45.22-35.91 0-8.55 3.61-10.832 14.059-10.832 12.16 0 15.2 2.66 15.2 9.883 0 8.93 8.362 11.02 16.91 11.02 12.921 0 17.484-4.75 17.484-17.102zm0 0M302.066 183.613v1.711c0 32.68-20.332 44.84-46.55 44.84s-46.743-12.16-46.743-44.84v-50.351c0-32.68 21.09-44.84 48.454-44.84 32.109 0 44.84 19.949 44.84 35.719 0 9.12-4.372 11.968-13.872 11.968-8.168 0-15.39-2.09-15.39-10.828 0-7.219-7.598-11.02-16.528-11.02-11.21 0-17.863 5.891-17.863 19v17.098c6.082-6.648 14.633-8.36 23.754-8.36 21.656 0 39.898 9.5 39.898 39.903zm-63.652 3.801c0 13.11 6.461 18.809 17.102 18.809s16.91-5.7 16.91-18.809v-1.71c0-13.872-6.27-19.192-17.102-19.192-10.258 0-16.91 4.941-16.91 17.48zm0 0M325.055 185.324v-50.351c0-32.68 20.328-44.84 46.55-44.84 26.22 0 46.739 12.16 46.739 44.84v50.351c0 32.68-20.52 44.84-46.739 44.84-26.222 0-46.55-12.16-46.55-44.84zm63.648-50.351c0-13.11-6.457-19-17.098-19s-16.91 5.89-16.91 19v50.351c0 13.11 6.27 19 16.91 19s17.098-5.89 17.098-19zm0 0M454.352 90c-24.817 0-45-20.188-45-45s20.183-45 45-45c24.812 0 45 20.188 45 45s-20.188 45-45 45zm0-60c-8.274 0-15 6.73-15 15 0 8.273 6.726 15 15 15 8.27 0 15-6.727 15-15 0-8.27-6.73-15-15-15zm0 0"/></svg>
  </div>
</div>
`

const UI = {
  init (player) {
    const node = createNode(html)
    const { $el } = player;
    $el.insertBefore(node, $el.children[3])
    this.$layer = node
    this.$guide = node.querySelector('.guide-360')
    this.$XRButton =  node.querySelector('.webxr-button')
    this.hideGuide()
  },

  hideGuide () {
    setTimeout(() => {
      this.$guide.classList.add('hidden')
    }, 1500)
  },



}

export default UI
